<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ten Wei Peng">
<meta name="dcterms.date" content="2024-05-13">

<title>ISSS608-VAA - Take Home Exercise 3: WORK IN PROGRESS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 3b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04c.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 4c</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html" rel="" target="">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex02/In-class_Ex02.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06a.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 6a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex06/In-class_Ex06b.html" rel="" target="">
 <span class="dropdown-text">In-class Exercise 6b</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Take-Home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-Home_Ex/Take-Home_Ex01/Take-Home_Ex01.html" rel="" target="">
 <span class="dropdown-text">Take-Home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-Home_Ex/Take-Home_Ex02/Take-Home_Ex02.html" rel="" target="">
 <span class="dropdown-text">Take-Home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-Home_Ex/Take-Home_Ex03/Take-Home_Ex03.html" rel="" target="">
 <span class="dropdown-text">Take-Home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">1.Data Preparation</a>
  <ul class="collapse">
  <li><a href="#loading-r-packages" id="toc-loading-r-packages" class="nav-link" data-scroll-target="#loading-r-packages">1.1 Loading R Packages</a></li>
  <li><a href="#loading-the-data" id="toc-loading-the-data" class="nav-link" data-scroll-target="#loading-the-data">1.2. Loading the Data</a></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">1.3. Data Cleaning</a></li>
  <li><a href="#task-1" id="toc-task-1" class="nav-link" data-scroll-target="#task-1">2. Task 1</a>
  <ul class="collapse">
  <li><a href="#filter-and-prepare-data" id="toc-filter-and-prepare-data" class="nav-link" data-scroll-target="#filter-and-prepare-data">2.1` Filter and Prepare Data</a></li>
  <li><a href="#construct-the-graph" id="toc-construct-the-graph" class="nav-link" data-scroll-target="#construct-the-graph">2.2. Construct the Graph</a></li>
  <li><a href="#filter-out-isolated-edges" id="toc-filter-out-isolated-edges" class="nav-link" data-scroll-target="#filter-out-isolated-edges">2.3. Filter out Isolated Edges</a></li>
  <li><a href="#visualize-the-graph" id="toc-visualize-the-graph" class="nav-link" data-scroll-target="#visualize-the-graph">2.4. Visualize the Graph</a></li>
  </ul></li>
  <li><a href="#geographical-information" id="toc-geographical-information" class="nav-link" data-scroll-target="#geographical-information">3. Geographical Information</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take Home Exercise 3: WORK IN PROGRESS</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ten Wei Peng </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 13, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">May 22, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>Overview</h1>
</section>
<section id="data-preparation" class="level1">
<h1>1.Data Preparation</h1>
<section id="loading-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-r-packages">1.1 Loading R Packages</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(jsonlite, igraph, tidygraph, ggraph, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               visNetwork, lubridate, clock,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               tidyverse, graphlayouts, sf , sp, sfdep,tmap, viridis, reshape2, stplanr, httr, lwgeom, DT, units)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="loading-the-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-data">1.2. Loading the Data</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>mc2_data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">"data/mc2_edited.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mc2_links_prep <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mc2_data<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">as.character</span>(source),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">target =</span> <span class="fu">as.character</span>(target),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="fu">as.character</span>(type),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">dwell =</span> <span class="fu">as.character</span>(dwell),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">as.Date</span>(<span class="fu">as.character</span>(date), <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">raw_source =</span> <span class="fu">as.character</span>(raw_source),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">time =</span> <span class="fu">as.POSIXct</span>(time, <span class="at">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%OS"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day_of_week =</span> <span class="fu">wday</span>(time, <span class="at">label =</span> <span class="cn">TRUE</span>))  </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>mc2_links <span class="ot">&lt;-</span> mc2_links_prep<span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, type,day_of_week) <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weights =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert nodes to tibble, modify variable types, and select required columns</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>mc2_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mc2_data<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">as.character</span>(id), </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="fu">as.character</span>(type),</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="fu">case_when</span>(</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Entity.Vessel.CargoVessel"</span>, <span class="st">"Entity.Vessel.Ferry.Cargo"</span>, <span class="st">"Entity.Vessel.FishingVessel"</span>,<span class="st">"Entity.Vessel"</span>, <span class="st">"Entity.Vessel.Other"</span>) <span class="sc">~</span> <span class="st">"Entity.Vessel"</span>,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> type</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">tonnage =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(tonnage)),</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">length_overall =</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(length_overall)), </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">Activities =</span> <span class="fu">as.character</span>(Activities), </span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">fish_species_present =</span> <span class="fu">as.character</span>(fish_species_present), </span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">kind =</span> <span class="fu">as.character</span>(kind), </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">flag_country =</span> <span class="fu">as.character</span>(flag_country),</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">company =</span> <span class="fu">as.character</span>(company),</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">raw_source =</span> <span class="fu">as.character</span>(raw_source),</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>         <span class="at">namee =</span> <span class="fu">as.character</span>(name), </span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">last_edited_by =</span> <span class="fu">as.POSIXct</span>(<span class="fu">strptime</span>(<span class="fu">as.character</span>(last_edited_by), <span class="at">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%OS"</span>)),</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">last_edited_date =</span> <span class="fu">as.POSIXct</span>(<span class="fu">strptime</span>(<span class="fu">as.character</span>(last_edited_date), <span class="at">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%OS"</span>)),</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">date_added =</span> <span class="fu">as.POSIXct</span>(<span class="fu">strptime</span>(<span class="fu">as.character</span>(date_added), <span class="at">format =</span> <span class="st">"%Y-%m-%dT%H:%M:%OS"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, type, namee, company, flag_country, Activities, tonnage, length_overall, raw_source, fish_species_present, kind, last_edited_by, last_edited_date, date_added)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">1.3. Data Cleaning</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Links</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Nodes</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for columns with missing values</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(mc2_links))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     source      target        type day_of_week     weights 
          0           0           0       11508           0 </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mc2_links_prep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     type                time                           dwell          
 Length:271643      Min.   :2035-02-01 00:00:00.00   Length:271643     
 Class :character   1st Qu.:2035-04-17 13:33:02.35   Class :character  
 Mode  :character   Median :2035-06-28 19:34:55.25   Mode  :character  
                    Mean   :2035-06-30 22:13:03.65                     
                    3rd Qu.:2035-09-13 13:44:34.00                     
                    Max.   :2035-11-30 00:00:00.00                     
                    NA's   :13101                                      
 last_edited_by      date_added        last_edited_date    raw_source       
 Length:271643      Length:271643      Length:271643      Length:271643     
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            
  algorithm            source             target               key        
 Length:271643      Length:271643      Length:271643      Min.   :   0.0  
 Class :character   Class :character   Class :character   1st Qu.:  39.0  
 Mode  :character   Mode  :character   Mode  :character   Median : 118.0  
                                                          Mean   : 208.2  
                                                          3rd Qu.: 290.0  
                                                          Max.   :1516.0  
                                                                          
      date            data_author          aphorism         holiday_greeting  
 Min.   :2035-02-01   Length:271643      Length:271643      Length:271643     
 1st Qu.:2035-07-25   Class :character   Class :character   Class :character  
 Median :2035-09-19   Mode  :character   Mode  :character   Mode  :character  
 Mean   :2035-08-29                                                           
 3rd Qu.:2035-10-26                                                           
 Max.   :2035-11-30                                                           
 NA's   :258542                                                               
    wisdom          saying of the sea   day_of_week   
 Length:271643      Length:271643      Tue    :46938  
 Class :character   Class :character   Thu    :43657  
 Mode  :character   Mode  :character   Wed    :43049  
                                       Fri    :40717  
                                       Mon    :39019  
                                       (Other):45162  
                                       NA's   :13101  </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>mc2_links[<span class="fu">duplicated</span>(mc2_links),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 5
# ℹ 5 variables: source &lt;chr&gt;, target &lt;chr&gt;, type &lt;chr&gt;, day_of_week &lt;ord&gt;,
#   weights &lt;int&gt;</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mc2_links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 24,267
Columns: 5
$ source      &lt;chr&gt; "City of Haacklee", "City of Haacklee", "City of Haacklee"…
$ target      &lt;chr&gt; "albacoreangler47d", "albacoreangler47d", "albacoreangler4…
$ type        &lt;chr&gt; "Event.TransportEvent.TransponderPing", "Event.TransportEv…
$ day_of_week &lt;ord&gt; Mon, Tue, Wed, Thu, Fri, Sat, Sun, Mon, Tue, Wed, Thu, Fri…
$ weights     &lt;int&gt; 20, 28, 4, 21, 33, 4, 8, 15, 3, 13, 20, 7, 16, 1, 1, 1, 2,…</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>unique_type <span class="ot">&lt;-</span> <span class="fu">unique</span>(mc2_links<span class="sc">$</span>type)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Define a function to count and print unique categories for a given column.</strong></p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>count_unique_categories <span class="ot">&lt;-</span> <span class="cf">function</span>(data, column_name) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"**"</span>, column_name, <span class="st">"**</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  category_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(data[[column_name]])</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  sorted_counts <span class="ot">&lt;-</span> <span class="fu">sort</span>(category_counts, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(sorted_counts)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count_unique_categories</span>(mc2_links, <span class="st">'type'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mc2_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,637
Columns: 14
$ id                   &lt;chr&gt; "gadusnspecificatae4ba", "piscesfrigus900", "pisc…
$ type                 &lt;chr&gt; "Entity.Commodity.Fish", "Entity.Commodity.Fish",…
$ namee                &lt;chr&gt; "Cod/Gadus n.specificatae", "Birdseye/Pisces frig…
$ company              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ flag_country         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ Activities           &lt;chr&gt; "NULL", "NULL", "NULL", "NULL", "NULL", "NULL", "…
$ tonnage              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ length_overall       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ raw_source           &lt;chr&gt; "", "", "", "", "", "", "", "", "", "", "Oceanus:…
$ fish_species_present &lt;chr&gt; "NULL", "NULL", "NULL", "NULL", "NULL", "NULL", "…
$ kind                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "city", "…
$ last_edited_by       &lt;dttm&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ last_edited_date     &lt;dttm&gt; 2035-01-25, 2035-01-04, 2035-01-14, 2035-01-14, …
$ date_added           &lt;dttm&gt; 2033-09-04, 2034-01-21, 2033-06-22, 2033-11-24, …</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for columns with missing values</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(mc2_nodes))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                  id                 type                namee 
                   0                    0                 5627 
             company         flag_country           Activities 
                5458                 5341                    0 
             tonnage       length_overall           raw_source 
                5359                 5354                    0 
fish_species_present                 kind       last_edited_by 
                   0                 5613                 5637 
    last_edited_date           date_added 
                5627                 5627 </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mc2_nodes[<span class="fu">duplicated</span>(mc2_nodes),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 14
# ℹ 14 variables: id &lt;chr&gt;, type &lt;chr&gt;, namee &lt;chr&gt;, company &lt;chr&gt;,
#   flag_country &lt;chr&gt;, Activities &lt;chr&gt;, tonnage &lt;dbl&gt;, length_overall &lt;dbl&gt;,
#   raw_source &lt;chr&gt;, fish_species_present &lt;chr&gt;, kind &lt;chr&gt;,
#   last_edited_by &lt;dttm&gt;, last_edited_date &lt;dttm&gt;, date_added &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>unique_type <span class="ot">&lt;-</span> <span class="fu">unique</span>(mc2_nodes<span class="sc">$</span>type)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(unique_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count_unique_categories</span>(mc2_nodes, <span class="st">'type'</span>) </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">count_unique_categories</span>(mc2_nodes, <span class="st">'flag_country'</span>) </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">count_unique_categories</span>(mc2_nodes, <span class="st">'company'</span>) </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">count_unique_categories</span>(mc2_nodes, <span class="st">'kind'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="task-1" class="level2">
<h2 class="anchored" data-anchor-id="task-1">2. Task 1</h2>
<section id="filter-and-prepare-data" class="level3">
<h3 class="anchored" data-anchor-id="filter-and-prepare-data">2.1` Filter and Prepare Data</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and prepare nodes</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>mc2_nodes_filtered <span class="ot">&lt;-</span> mc2_nodes <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Entity.Vessel'</span>,<span class="st">'Entity.Location.Point'</span>,<span class="st">"Entity.Location.City"</span>)) </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and prepare nodes</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>mc2_links_filtered <span class="ot">&lt;-</span> mc2_links <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Event.TransportEvent.TransponderPing'</span>,<span class="st">'Event.Transaction'</span>,<span class="st">"Event.HarborReport"</span>))</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract relevant node IDs</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>filtered_node_ids <span class="ot">&lt;-</span> mc2_nodes_filtered<span class="sc">$</span>id</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter and prepare edges</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>mc2_links_filtered <span class="ot">&lt;-</span> mc2_links_filtered <span class="sc">%&gt;%</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> filtered_node_ids <span class="sc">&amp;</span> target <span class="sc">%in%</span> filtered_node_ids)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure no missing nodes in the filtered links</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>missing_nodes <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">unique</span>(<span class="fu">c</span>(mc2_links_filtered<span class="sc">$</span>source, mc2_links_filtered<span class="sc">$</span>target)), mc2_nodes_filtered<span class="sc">$</span>id)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(missing_nodes) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  mc2_links_filtered <span class="ot">&lt;-</span> mc2_links_filtered <span class="sc">%&gt;%</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>source <span class="sc">%in%</span> missing_nodes <span class="sc">&amp;</span> <span class="sc">!</span>target <span class="sc">%in%</span> missing_nodes)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="construct-the-graph" class="level3">
<h3 class="anchored" data-anchor-id="construct-the-graph">2.2. Construct the Graph</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the graph with filtered nodes and edges</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>mc2_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> mc2_nodes_filtered, <span class="at">edges =</span> mc2_links_filtered, <span class="at">directed =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">betweenness_centrality =</span> <span class="fu">centrality_betweenness</span>(),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">closeness_centrality =</span> <span class="fu">centrality_closeness</span>(),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">degree_centrality =</span> <span class="fu">centrality_degree</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="filter-out-isolated-edges" class="level3">
<h3 class="anchored" data-anchor-id="filter-out-isolated-edges">2.3. Filter out Isolated Edges</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the graph to include only nodes with edges</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>mc2_graph_with_edges <span class="ot">&lt;-</span> mc2_graph <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">node_is_isolated</span>())</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization with filtered nodes</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>mc2_graph_with_edges <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggraph</span>(<span class="at">layout =</span> <span class="st">"fr"</span>) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="fu">aes</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> degree_centrality,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> type,</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span>)) <span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Entity.Vessel"</span> <span class="ot">=</span> <span class="st">"blue"</span>, </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Entity.Location.Point"</span><span class="ot">=</span> <span class="st">"red"</span>,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Entity.Location.City"</span> <span class="ot">=</span> <span class="st">"lightblue"</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>                                )) <span class="sc">+</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Associations between Vessels and Probable Cargos"</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Node Type"</span>,</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">size =</span> <span class="st">"Degree Centrality"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-Home_Ex03_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="visualize-the-graph" class="level3">
<h3 class="anchored" data-anchor-id="visualize-the-graph">2.4. Visualize the Graph</h3>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate edges data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>mc2_edges_aggregated <span class="ot">&lt;-</span> mc2_links_filtered <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(mc2_nodes_filtered, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"source"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">from =</span> source) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(mc2_nodes_filtered, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">to =</span> target) <span class="sc">%&gt;%</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(from, to) <span class="sc">%&gt;%</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight =</span> <span class="fu">sum</span>(weights)) <span class="sc">%&gt;%</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(from <span class="sc">!=</span> to) <span class="sc">%&gt;%</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weight <span class="sc">&gt;</span> <span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>connected_nodes <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(mc2_edges_aggregated<span class="sc">$</span>from, mc2_edges_aggregated<span class="sc">$</span>to))</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out isolated nodes</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>mc2_nodes_filtered <span class="ot">&lt;-</span> mc2_nodes_filtered <span class="sc">%&gt;%</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> connected_nodes) <span class="sc">%&gt;%</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">group =</span> type) <span class="sc">%&gt;%</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Entity.Vessel'</span>,<span class="st">'Entity.Location.Point'</span>, <span class="st">'Entity.Location.City'</span>), id, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the resulting graph</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(mc2_nodes_filtered, mc2_edges_aggregated) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLegend</span>() <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>, <span class="at">degree =</span> <span class="dv">1</span>), </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-d6cc07aacf3fa8bb3897" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d6cc07aacf3fa8bb3897">{"x":{"nodes":{"id":["City of Haacklee","City of Lomark","City of Himark","City of Paackland","City of South Paackland","wavewranglerc2d","yellowfintunataker08b","webigailba7","arcticgraylingangler094","anchovyassaulterb1c","oceanreaper44a","herringharpooner843","halibuthunterd84","brooktroutbuccaneerc0b","groupergrabber60d","welscatfishwrangler6ae","skipjacktunatakerf85","pacificcodcapturer81c","bluefishbandit8ec","europeanperchpirated9b","whitefishwrangler7df","sturdyd7f","longfintunalooterf32","plaicepirate8c6","pikeplunderer0ca","albacoreangler47d","pikepirate89a","flatheadcatfishfindera51","burbotbandit7bf","clamclaimer13d","neptunesnete8c","shrimpshooter91c","aquaticangler5c3","blackbullheadbandit801","turbottakerd86","seaswindler255","atlanticbluemarlinmarauder0b4","laketroutlooter534","dolphindasher004","stout369","tidetamerbe1","mackerelmarauder2d4","grasspickerelgangster7d1","barracudabaiter8b3","nauticalnomada36","wavewarrior5d7","bluemarlinbandit292","longnosesuckerseeker6ab","halibuthero9b9","marinemarauder8c9","yellowperchpiratec59","pompanoplunderere5d","herringhunter30b","musselmaster8d8","speckledtroutsaboteur509","swordfishswindler37b","sharkshooterd66","marlinmaster8ab","mackerelmariner70c","pollockpirate212","perchpursuer982","rainbowtroutraider4d0","skipjacktunaseeker76c","haddockhawkb7c","catchcruisera94","bigeyetunabuccaneera16","codfather685","cohosalmoncapturera7b","largemouthbasslooterf95","malta8cc","hooklinesinkera2d","redfinpickerelraider744","tigermuskellungemaster012","sockeyesalmonseekerb95","trouttracker43b","atlanticcodcatcherca6","fishtracker03e","flukefinder28d","chumsalmoncatcher41e","saltyskippera9e","perchplundererbc0","stripedbassseeker80c","gurnardgrabberd9a","dewie961","swordfishsaboteur22f","whitingwrangler842","City of Port Grove","carpcatcher3f4","whelkwrangler9ac","hewey2ef","tenchtaker595","pinksalmonpirate2a3","bluecatfishcatcher468","carpcapturer993","goldfishgrabber270","soleseeker47a","whitefishwhisperer6df","cutthroattroutcatchere2b","haddockhunter1a7","brinebuccaneer9fd","redfishraider677","roachraider7ce","europeaneelenthusiastf9f","chainpickerelplunderer039","marinersmate8ee","snooksnatcherbdb","squidsquad7fd","baitedbreath538","goldentroutgrabber7f6","yellowbullheadbuccaneer968","tunatrawlerafd","ladyfishlooter7ea","deepseadrifter9f2","seahunter56b","bluegillbandita5f","eelenthusiast8c6","costasmeraldaac7","seaserpent4b4","walleyewranglerda0","louietheii3e0","eelensnarerd3a","bigeyetunabanditb73","lobsterlooterd41","oysteropener442","channelcatfishcapturer175","trawlertriumph31f","spanishmackerelmaster037","bonefishbaiter565","kingfisher87d","tunataker80c","tarpontaker6cd","fishfinderb9d","kingfishcapturerbe7","wahoowrangler016","zanderzealotb23","mackerelmaster0a5","ruddraiderced","sailfishseeker8d5","bluefintunabandit177","seabassbandit9ad","barracudabandit836","codcatcher04c","europeanseabassbuccaneer777","squidsquasherda9","bassbandit0d5","cobiacapturere5e","flounderfinderd64","salmonseeker630","northernpikepirated97","sailfishswindlerb4f","muskellungemastere7c","seasirenf43","steelheadstalkera87","clamcatcherfb3","brillbandit0a1","huron1b3","fishflingere29","muskellungemarauder78c","crappiecapturer875","plaiceplundererba1","albacoreassaulter482","seabreamseekerd8b","wahoowarriord42","musselmaraudere9b","americaneelenthusiastcfa","mahimahimaster04f","brownbullheadbriganded2","bassbaiterb9f","sardineseeker62e","graylinggrabber802","kingsalmonking5b4","salmonsnatcher19d","amberjackassaulterd52","breambanditc85","oceanoracle1d0","whitesuckerwrangler0b3","swimmingsafely92d","catfishcapturer7a8","opheliacac","aquaticpursuitf31","whitemarlinwranglerbac","tautogtaker867","crabcatcher1aa","louieda4","weakfishwranglerd3c","roachrobberdb6","posiedonsparadise7e6","prawnpredator5d7","whitemarlinmasterfa1","Nav 3","Nav D","Nav B","Nav A","Nav C","Nav 2","Nav 1","Exit East","Nav E"],"group":["Entity.Location.City","Entity.Location.City","Entity.Location.City","Entity.Location.City","Entity.Location.City","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Location.City","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Vessel","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point","Entity.Location.Point"],"namee":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"company":[null,null,null,null,null,"Roth, Logan and Moreno","Brown-Haas",null,"Smith, Davis and Acosta","Cisneros-Meyer","FlounderLeska Marine BV","House Group","Weaver-Baker","Stewart, Perkins and Sanchez","ScaniaSeafood Holdings Ltd. Liability Co","Mccormick Group","Parks Ltd","Taylor-Sawyer","Parks Ltd","Nielsen, Valentine and Bell","Jacobson Inc",null,"House Group","Ballard-Bailey","Steele PLC","WestRiver Shipping KgaA","Robinson, Mcmillan and Watson","Lowery-Myers","Robinson, Mcmillan and Watson","Dyer-Campbell","Adkins LLC","BaringoAmerica Marine Ges.m.b.H.","Terry, Smith and Lyons","Schmidt Ltd","Brown-Haas","Mccormick Group","Ritter Ltd","Ritter Ltd","Decker PLC",null,"Faulkner, Shaffer and Moyer","Brown-Allen","Bell, Reynolds and Forbes","French Ltd","Saltwater Sisters Company Marine","Rivera Group","Bowers Group","MonarchCreek Shipping S.p.A.","Mendez-Tyler","Nielsen, Valentine and Bell","Dyer-Campbell","Ballard-Bailey","Mooney, Stevenson and Miller","Garcia-Wallace","Cox-Mason","Mendez-Tyler","Garcia-Sanchez","Bell, Reynolds and Forbes","Sutton PLC","Nielsen, Valentine and Bell","Rasmussen, Nelson and King","Cisneros-Meyer","Cisneros-Meyer","Garcia-Sanchez","Brown, Clarke and Martinez","Gomez-Mccormick","Solis-Lopez","Faulkner, Shaffer and Moyer","Solis-Lopez","Clark, Hall and Cole","Cox-Donovan","Solis PLC","Newton-Meyer","Mcpherson-Wright","Cordova, Ritter and Flores","Miller, Smith and Reed","Barnes and Sons","Gomez-Mccormick","Mooney, Stevenson and Miller","Weaver-Baker","Bennett, Jones and Miller","Mercado, French and Graham","Schmidt Ltd",null,"Brewer-Massey","Norman LLC",null,"Wiley LLC","WestRiver Shipping KgaA",null,"Davis, Harris and West","Ritter Ltd","Goodman LLC","Reid, Thomas and Gill","Henry-Alvarez","Mccormick Group","Lane Group","Smith, Collins and Johnson","Solis-Lopez","Bennett, Jones and Miller","House Group","Franco, Olson and Long","Dry CreekWorldLogistics Ltd. Liability Co","Rodriguez, Henry and Woodard","Decker PLC","Solis-Lopez","Thompson-Padilla","Faulkner, Shaffer and Moyer","Carter, Mcdonald and Miller","Franco, Olson and Long","Williams, Horn and Morales","Smith, Collins and Johnson","Garcia-Wallace","Steele PLC","Lane Group","Sutton PLC","Garcia-Sanchez","Smith, Collins and Johnson","Callahan-Green",null,"Green, Vincent and Thompson","Lake Malawi  Corp United","Wolf and Sons","Hernandez Group","Lowery-Myers","Terry, Smith and Lyons","Ritter Ltd","Garcia-Wallace","Horne Group","Fischer, Graham and Robinson","Terry, Smith and Lyons","Carter, Mcdonald and Miller","Rodriguez, Henry and Woodard","Bell, Reynolds and Forbes","Mercado, French and Graham","Chavez and Sons","Maacama Ocean Worldwide LLC","Jordan and Sons","Clark, Hall and Cole","Mccormick Group","Smith, Davis and Acosta","Martin-Case","Murphy and Sons","Brown-Haas","Collins, Johnson and Lloyd","Chavez and Sons","Sparmans Marine Carriers Oyj","Thompson-Padilla","Brown-Allen","Mullins-Carrillo","Jordan and Sons","Bowers Group","Chavez and Sons","Green, Vincent and Thompson","Mcpherson-Wright","Riley Inc","Robinson, Mcmillan and Watson","Ritter Ltd","Brown, Clarke and Martinez","NortheastSeafood Carriers Ltd","Solis PLC","Mullins-Carrillo","Chambers, Hall and Walker","Osborne and Sons","Conley, Benton and Miller","Taylor-Sawyer","Jacobson Inc","Saltwater Sisters Company Marine","Costa de Oro Enterprises","Nielsen, Valentine and Bell","Chase, Long and Anderson","Vasquez-Gonzalez","Williams, Horn and Morales","Murphy and Sons","Harper and Sons","Robinson, Mcmillan and Watson","Tainamarine Fishing Co","Ritter Ltd","Mcdonald-Jones","George-Brown","Callahan-Green","Costa de Oro Enterprises","SamakaDredgeTransport OJSC",null,"Gomez-Mccormick","SouthSeafood Express Corp","Tainamarine Fishing Co","Cordova, Ritter and Flores","Mendez-Tyler",null,null,null,null,null,null,null,null,null],"flag_country":[null,null,null,null,null,"Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Helixia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanterra","Oceanus","Islavaragon","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Wysterion","Oceanus","Oceanus","Oceanus","Kondarica","Oceanus","Oceanus","Oceanus","Uziland","Oceanus","Oceanus","Oceanus","Calabrand","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Solterrix","Oceanus","Kethilim","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,"Oceanus","Oceanus","Oceanus","Kondanovia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Icarnia","Oceanus","Oceanus","Oceanus","Alverossia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Arvekalia","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Nalakond","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Afarivaria","Lumindoria","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Osterivaro","Oceanus","Lumindoria","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Kondarica","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Arvaros","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Syrithania","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus","Oceanus",null,null,null,null,null,null,null,null,null],"Activities":["c(\"Tourism\", \"Local shipping\")","c(\"Deep sea fishing\", \"Commercial fishing\", \"Tourism\", \"Shipping\")","Recreation, tourism","c(\"Industry\", \"Fishing industry\", \"Local shipping\", \"Tourism\", \"Research\", \"Sport fishing\")","c(\"Industry\", \"Fishing industry\", \"Local shipping\")","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","c(\"Tourism\", \"Research\")","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","Navigation","Navigation","Navigation","Navigation","Navigation","Navigation","Navigation","c(\"International shipping\", \"Deep sea fishing\")","Navigation"],"tonnage":[null,null,null,null,null,700,4500,null,1500,400,300,7400,100,6500,600,10800,7100,200,2800,700,2100,null,4900,400,3800,800,14400,2100,6700,5200,11500,1300,3900,500,600,4500,3900,4900,5700,null,600,300,11800,100,14300,6300,200,300,1800,17200,3100,400,2400,2200,9400,4000,4500,7800,4200,2100,11400,4900,800,1100,100,300,1700,100,200,200,3200,900,5100,6600,2400,6200,3800,1200,2300,4400,600,3300,300,null,11100,800,null,1700,7100,null,3900,200,7800,100,4200,6200,3600,100,1500,5600,1900,300,6300,800,400,4300,200,700,2500,2800,300,800,900,10600,3900,2500,600,3500,4400,null,10400,11100,800,3000,3900,5000,2400,9100,400,1700,400,100,2900,300,2100,4100,1400,1300,4100,6000,1200,300,10300,4200,600,10500,1400,200,3800,4000,4400,700,4700,700,2400,11700,700,2900,1700,4400,600,3600,5300,500,3400,2600,200,1100,2200,300,10300,3000,300,3500,8900,600,100,1400,1400,7600,500,1900,3600,null,12100,11700,11700,100,800,null,null,null,null,null,null,null,null,null],"length_overall":[null,null,null,null,null,110,110,50,80,60,50,130,10,90,70,120,110,40,90,50,60,null,80,70,120,50,160,100,70,100,150,30,40,60,70,110,50,100,90,null,30,20,120,40,90,150,50,30,60,180,90,60,90,70,100,90,70,120,80,90,140,90,30,50,30,30,110,10,40,40,110,80,90,90,90,80,90,50,50,80,70,90,80,75,110,90,null,110,110,75,60,30,120,10,140,80,70,10,70,70,130,50,150,50,30,110,60,110,60,70,60,20,50,120,50,80,80,110,130,75,150,110,60,80,60,80,90,130,10,30,50,10,110,20,40,90,70,70,110,110,50,50,130,90,70,90,60,10,120,40,110,60,160,60,90,130,60,80,50,130,70,110,70,20,100,60,60,70,70,70,130,140,20,60,150,30,20,60,60,130,20,120,100,75,140,130,130,10,90,null,null,null,null,null,null,null,null,null],"raw_source":["Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus: Geography Notes","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus Vessel Locator System","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes","Oceanus: Geography Notes"],"fish_species_present":["NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL","NULL"],"kind":["city","city","city","city","city",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"city",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"buoy","buoy","buoy","buoy","buoy","buoy","buoy","buoy","buoy"],"last_edited_by":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"last_edited_date":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"date_added":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"label":["City of Haacklee","City of Lomark","City of Himark","City of Paackland","City of South Paackland","wavewranglerc2d","yellowfintunataker08b","webigailba7","arcticgraylingangler094","anchovyassaulterb1c","oceanreaper44a","herringharpooner843","halibuthunterd84","brooktroutbuccaneerc0b","groupergrabber60d","welscatfishwrangler6ae","skipjacktunatakerf85","pacificcodcapturer81c","bluefishbandit8ec","europeanperchpirated9b","whitefishwrangler7df","sturdyd7f","longfintunalooterf32","plaicepirate8c6","pikeplunderer0ca","albacoreangler47d","pikepirate89a","flatheadcatfishfindera51","burbotbandit7bf","clamclaimer13d","neptunesnete8c","shrimpshooter91c","aquaticangler5c3","blackbullheadbandit801","turbottakerd86","seaswindler255","atlanticbluemarlinmarauder0b4","laketroutlooter534","dolphindasher004","stout369","tidetamerbe1","mackerelmarauder2d4","grasspickerelgangster7d1","barracudabaiter8b3","nauticalnomada36","wavewarrior5d7","bluemarlinbandit292","longnosesuckerseeker6ab","halibuthero9b9","marinemarauder8c9","yellowperchpiratec59","pompanoplunderere5d","herringhunter30b","musselmaster8d8","speckledtroutsaboteur509","swordfishswindler37b","sharkshooterd66","marlinmaster8ab","mackerelmariner70c","pollockpirate212","perchpursuer982","rainbowtroutraider4d0","skipjacktunaseeker76c","haddockhawkb7c","catchcruisera94","bigeyetunabuccaneera16","codfather685","cohosalmoncapturera7b","largemouthbasslooterf95","malta8cc","hooklinesinkera2d","redfinpickerelraider744","tigermuskellungemaster012","sockeyesalmonseekerb95","trouttracker43b","atlanticcodcatcherca6","fishtracker03e","flukefinder28d","chumsalmoncatcher41e","saltyskippera9e","perchplundererbc0","stripedbassseeker80c","gurnardgrabberd9a","dewie961","swordfishsaboteur22f","whitingwrangler842","City of Port Grove","carpcatcher3f4","whelkwrangler9ac","hewey2ef","tenchtaker595","pinksalmonpirate2a3","bluecatfishcatcher468","carpcapturer993","goldfishgrabber270","soleseeker47a","whitefishwhisperer6df","cutthroattroutcatchere2b","haddockhunter1a7","brinebuccaneer9fd","redfishraider677","roachraider7ce","europeaneelenthusiastf9f","chainpickerelplunderer039","marinersmate8ee","snooksnatcherbdb","squidsquad7fd","baitedbreath538","goldentroutgrabber7f6","yellowbullheadbuccaneer968","tunatrawlerafd","ladyfishlooter7ea","deepseadrifter9f2","seahunter56b","bluegillbandita5f","eelenthusiast8c6","costasmeraldaac7","seaserpent4b4","walleyewranglerda0","louietheii3e0","eelensnarerd3a","bigeyetunabanditb73","lobsterlooterd41","oysteropener442","channelcatfishcapturer175","trawlertriumph31f","spanishmackerelmaster037","bonefishbaiter565","kingfisher87d","tunataker80c","tarpontaker6cd","fishfinderb9d","kingfishcapturerbe7","wahoowrangler016","zanderzealotb23","mackerelmaster0a5","ruddraiderced","sailfishseeker8d5","bluefintunabandit177","seabassbandit9ad","barracudabandit836","codcatcher04c","europeanseabassbuccaneer777","squidsquasherda9","bassbandit0d5","cobiacapturere5e","flounderfinderd64","salmonseeker630","northernpikepirated97","sailfishswindlerb4f","muskellungemastere7c","seasirenf43","steelheadstalkera87","clamcatcherfb3","brillbandit0a1","huron1b3","fishflingere29","muskellungemarauder78c","crappiecapturer875","plaiceplundererba1","albacoreassaulter482","seabreamseekerd8b","wahoowarriord42","musselmaraudere9b","americaneelenthusiastcfa","mahimahimaster04f","brownbullheadbriganded2","bassbaiterb9f","sardineseeker62e","graylinggrabber802","kingsalmonking5b4","salmonsnatcher19d","amberjackassaulterd52","breambanditc85","oceanoracle1d0","whitesuckerwrangler0b3","swimmingsafely92d","catfishcapturer7a8","opheliacac","aquaticpursuitf31","whitemarlinwranglerbac","tautogtaker867","crabcatcher1aa","louieda4","weakfishwranglerd3c","roachrobberdb6","posiedonsparadise7e6","prawnpredator5d7","whitemarlinmasterfa1","Nav 3","Nav D","Nav B","Nav A","Nav C","Nav 2","Nav 1","Exit East","Nav E"],"x":[0.3320289662742739,-0.4620572121207392,-0.3767521057957475,-0.6374183094083876,-0.1461897115198819,-0.1870301481616408,0.3488672130721588,0.7373392101507514,-0.2093712056577561,0.5109703780211272,0.4001987412404682,0.4362114263643819,0.4629875572114301,-0.1579751186782845,0.4944712122798087,0.3806273061276371,0.2634778082631257,0.4187350523220155,0.3298290494100395,0.4660431879951699,-0.09145110993812844,0.03882144110905306,-0.4297316817170171,-0.322515442902609,-0.1618319374683705,-0.06576534321918903,-0.1790339462549351,-0.3421405723286796,-0.2387297303516485,-0.1943679002518108,-0.2945367536256873,-0.2256820170020786,-0.1367318885197419,-0.268383253927565,-0.2030221266610174,-0.2978984366839416,-0.2785212174887122,-0.2271215219586579,-0.7917795267976341,-0.1750530283273833,-0.2212912631097878,-0.1893910812041785,-0.245179297895601,-0.1265139570555371,0.2321435419209412,0.684212567799352,-0.1098449817503326,0.3104263470411401,0.3644866543279142,-0.5137576363713069,-0.3031504441758268,0.276543752326134,-0.4530035942084923,-0.1817174910121255,-0.7540747051283035,-0.1325266875497263,-0.27523008595885,-0.4237045466777345,-0.3271830132300581,-0.5608551483607505,-0.6116921597081422,-0.6067769299380896,-0.6522852087412248,-0.5951218828497047,-0.319206318715029,-0.3356091189492831,-0.3431461661515792,-0.5870300059705136,-0.630302163460758,-0.5615878744401783,-0.5969849980487028,-0.4841722912321079,-0.5343071131029116,-0.6424690344327788,-0.4521106192302476,-0.5113070564992939,-0.5721134505642231,-0.517106876748463,-0.4448857869151531,-0.5274175432526581,-0.1537657623366157,-0.660166425487732,-0.5066810861058519,-0.6709019263489289,-0.5592687417579227,-0.4847494219332839,1,-0.5905153880904086,-0.8477516497089326,-0.4185105012094539,-0.6438720531655836,-0.4265922757622891,-0.4609509162101657,-0.4966681006892201,-0.1523643167613007,-0.421135155159162,-0.3156170483669591,-0.2382235075256454,-0.4498087527033223,-0.1714942904897087,-0.5503718716884389,-0.305590244361332,-0.1888189068238713,-0.4744982337107974,-0.4822226752490398,-0.4656161708969487,-0.2746520952807656,-0.7719530232081974,-0.5801950257391678,-0.717321112187816,-0.6763548251095439,0.628752207786607,0.4446886384153512,-0.3516382670253194,-0.08902582070667409,-0.7117590991506084,-0.4344044518299609,-0.526417767743769,-0.7450842740624537,0.2020002191214196,-0.6551364291130277,-0.7201071071408974,-0.2723909572034361,-0.6987098572706179,-0.6262747045325446,-0.5463034285102886,-0.3991366419590483,-0.725096666224009,-0.6468318932272475,-0.3575610451454555,-0.6653957224026199,-0.5724773448247342,-0.3080910308879715,-0.6276221370297572,-0.690828201961219,-0.6200643231698972,-0.7099669366653248,-0.6129290620863204,-0.6591909101190772,-0.3726941957799973,-0.7919229369583612,-0.3052110461634344,-0.5232539366585696,-0.5434805750395126,-0.5784318129059876,-0.7549825768296918,-0.7519670644322106,-0.4180260555162674,-0.320736904668113,-0.5891393896172405,-0.6150191392105866,-0.5866911387000753,-0.400266994258459,-0.3903588646771265,-0.2936126282729017,-0.7247880219076227,-0.3814674233138241,-0.7238405103337593,-0.6271821432560116,0.485182060963343,-0.6763353296123704,-0.8136942352909389,-0.6922275750021308,-0.8241349494199997,-0.8024354141838874,-0.7423615348653685,-0.5856943818035164,-0.7700706587164878,-0.8004526567830887,-0.6359597355496226,-0.4145885720455481,-0.3532304945057727,-0.3817187095159347,-0.5499624487930448,-0.4547111922616907,-0.3491281508876183,-0.4889221135514547,-0.2497973718166235,-0.5315404257540624,-0.4369941043859942,-0.4618634885725211,-0.3205711104011275,-0.4307038887705134,-1,-0.6216224066984095,-0.7800239866572554,-0.8259159476388485,-0.6648315625402346,-0.802582895189425,-0.2427146601447162,0.1700651764896426,0.05770950694524668,0.04872494815847461,-0.4783843207414573,-0.4793777944314973,-0.4900238443851805,-0.4707450141455713,-0.180664643278278],"y":[-0.5182374212810833,0.2178317637555423,-0.3804005496535122,0.5940800263129864,0.6259969740261013,-0.3637708911970925,-0.711737206550244,-0.8090885728551881,-0.4016871942843668,-0.5825878600068594,-0.701708525488817,-0.6010122726660809,-0.5463009803495689,-0.3363902625351991,-0.6463627794673334,-0.7954600361727562,-0.7150127727609914,-0.7615988751743745,-0.8000537831038624,-0.7233991584120731,-0.2959287659120493,1,0.7914776934138925,0.7348094840049968,0.5054516615377267,0.218453376432483,0.6072411519338634,0.7733443379768106,0.7747688730213584,0.7229528587311229,0.7751155384221817,0.6889590704221038,0.5398571590890695,0.8038710720386799,0.5218076700351126,0.8321746614726848,0.6051019312196135,0.8090967011054644,0.7025630585649734,0.05720700614825214,0.6169592020519292,0.7677609204236828,0.5575996723793581,0.580490707816683,-0.7763935770699257,-0.6554483907003932,-0.2750787321637693,-0.7459743393311015,-0.6385155982022199,-0.4375626339049241,-0.2679956577405113,-0.8026956695345577,-0.346908309802111,-0.4206418540357905,0.7601181068966909,0.6647507778713164,0.2558195408287878,0.6725776553746956,0.8079627245963144,-0.4413858715109175,-0.4167488873919585,-0.2874458013161857,-0.3256969632105349,0.2543405974698167,-0.329822312656008,0.225040150375053,0.2708592676243595,0.3303745138334768,0.2401962159513167,0.2313274537959107,0.1577768384905587,0.1719613702873735,-0.3411391075124361,0.2893716674783395,-0.2928026907239418,0.2152912069967834,-0.3841812241060135,0.1509150564442132,0.3262687404844951,-0.2884119192901633,-0.3828664667558285,0.2556986712448843,0.3744422418672533,-0.08421476336257039,0.1547340338421941,0.3121936737119644,-1,-0.3357989179075354,-0.1956349793257313,-0.7871684412916293,-0.379834507809513,-0.4056439919683669,-0.4487434570332722,-0.3851978326753972,0.7233509976289483,0.7390817657514108,0.6928364516792482,0.7370333808153839,0.7160044751751702,0.6766650952651916,0.8481827213638167,0.648639923104702,0.5646492276906794,0.6757145965312501,0.7379602362152158,0.7831845000763393,0.7192166434025193,0.5418883451869907,0.8243600102262783,0.7914492926609531,0.7871057234515721,-0.7696801372980918,-0.6658545237323829,-0.2882064160655812,-0.3393045906932717,0.7028208594178578,0.8711129071111379,0.3124734791237651,0.2676344568833806,0.8646961714934096,0.7290707885409384,0.634252336901171,0.3402883651339232,0.7447783787902436,0.7621606514645836,0.3486346081024221,0.309832426737799,0.5785661904455024,0.4268869514035456,0.3706206101478824,0.827596723296504,0.2920002246995279,0.2634427689105154,0.8118555720231528,0.413029479476591,0.3983556524205314,0.3012259261792281,0.8540744021498294,0.3802382321015005,0.2234284806980043,0.3140545543388151,0.3039124081443227,0.8131757837845823,0.1910764328061449,0.7830735910939834,0.6653392365927013,0.7182681522789829,0.2397062989097194,0.3449528067975083,0.1984826389600916,0.3066484279717561,0.4309051464514664,0.1531164442334778,0.185425878948497,0.2193089716824383,0.383431087427778,0.2694209817859836,0.2434875704913622,0.2049568022306338,-0.4984753857037206,0.662445808928517,0.5384019248746494,0.3629961363766816,0.5879778813800038,0.6567714924775119,0.30765658862803,0.7116993137932737,0.593399480216579,0.6225150226841707,0.1708231428092795,0.371408056286707,0.1741749046399015,0.3442230744935286,0.7463435228432198,0.1482321464537935,0.3149708816095289,0.9005341277144792,0.2945952115589054,0.2659639316477735,0.2804619002635913,0.3660418057081865,0.1888509148639967,0.1822459268867076,0.880889586369942,0.6775051456732695,-0.2902872512796324,-0.249407723676273,0.2092471998249883,0.4418840066085346,0.6521323147366349,-0.5237843644863271,-0.1811444016483668,-0.2276046414739967,0.02221094349923813,0.5009259817022145,0.2522191685569302,0.5143848002520854,-0.2499526022526518]},"edges":{"from":["City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Haacklee","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Himark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Lomark","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Paackland","City of Port Grove","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","City of South Paackland","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Exit East","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 1","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 2","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav 3","Nav A","Nav A","Nav A","Nav B","Nav B","Nav B","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav C","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav D","Nav E","Nav E","Nav E","Nav E"],"to":["albacoreangler47d","anchovyassaulterb1c","bluefishbandit8ec","deepseadrifter9f2","europeanperchpirated9b","groupergrabber60d","halibuthero9b9","halibuthunterd84","herringharpooner843","ladyfishlooter7ea","longnosesuckerseeker6ab","nauticalnomada36","oceanreaper44a","pacificcodcapturer81c","plaiceplundererba1","pompanoplunderere5d","skipjacktunatakerf85","stout369","wavewarrior5d7","webigailba7","welscatfishwrangler6ae","yellowfintunataker08b","arcticgraylingangler094","bluecatfishcatcher468","bluemarlinbandit292","brooktroutbuccaneerc0b","carpcapturer993","carpcatcher3f4","catchcruisera94","fishtracker03e","herringhunter30b","hewey2ef","marinemarauder8c9","musselmaster8d8","perchplundererbc0","perchpursuer982","pinksalmonpirate2a3","pollockpirate212","rainbowtroutraider4d0","saltyskippera9e","seahunter56b","skipjacktunaseeker76c","stout369","tenchtaker595","tigermuskellungemaster012","trouttracker43b","wavewranglerc2d","whitefishwrangler7df","yellowperchpiratec59","amberjackassaulterd52","aquaticpursuitf31","atlanticcodcatcherca6","bigeyetunabuccaneera16","brillbandit0a1","catfishcapturer7a8","chumsalmoncatcher41e","clamcatcherfb3","codcatcher04c","codfather685","cohosalmoncapturera7b","crabcatcher1aa","crappiecapturer875","dewie961","fishfinderb9d","fishflingere29","flukefinder28d","graylinggrabber802","gurnardgrabberd9a","haddockhawkb7c","hooklinesinkera2d","kingfishcapturerbe7","kingsalmonking5b4","largemouthbasslooterf95","malta8cc","muskellungemastere7c","northernpikepirated97","oceanoracle1d0","opheliacac","prawnpredator5d7","redfinpickerelraider744","sailfishswindlerb4f","salmonseeker630","salmonsnatcher19d","seabassbandit9ad","seaserpent4b4","sharkshooterd66","sockeyesalmonseekerb95","spanishmackerelmaster037","squidsquasherda9","steelheadstalkera87","stout369","stripedbassseeker80c","swordfishsaboteur22f","tautogtaker867","trawlertriumph31f","tunataker80c","whitemarlinwranglerbac","whitesuckerwrangler0b3","whitingwrangler842","albacoreassaulter482","americaneelenthusiastcfa","baitedbreath538","barracudabandit836","bassbaiterb9f","bassbandit0d5","bigeyetunabanditb73","bluefintunabandit177","bonefishbaiter565","breambanditc85","brownbullheadbriganded2","chainpickerelplunderer039","channelcatfishcapturer175","cobiacapturere5e","costasmeraldaac7","dolphindasher004","eelensnarerd3a","eelenthusiast8c6","europeanseabassbuccaneer777","flounderfinderd64","goldentroutgrabber7f6","haddockhunter1a7","huron1b3","kingfisher87d","longfintunalooterf32","louieda4","mackerelmaster0a5","mahimahimaster04f","marinersmate8ee","marlinmaster8ab","muskellungemarauder78c","musselmaraudere9b","oysteropener442","redfishraider677","ruddraiderced","sailfishseeker8d5","sardineseeker62e","seabreamseekerd8b","seasirenf43","snooksnatcherbdb","soleseeker47a","speckledtroutsaboteur509","stout369","tarpontaker6cd","tunatrawlerafd","wahoowarriord42","wahoowrangler016","walleyewranglerda0","weakfishwranglerd3c","whitemarlinmasterfa1","yellowbullheadbuccaneer968","zanderzealotb23","webigailba7","albacoreangler47d","aquaticangler5c3","atlanticbluemarlinmarauder0b4","barracudabaiter8b3","blackbullheadbandit801","brinebuccaneer9fd","burbotbandit7bf","clamclaimer13d","cutthroattroutcatchere2b","europeaneelenthusiastf9f","flatheadcatfishfindera51","goldfishgrabber270","grasspickerelgangster7d1","laketroutlooter534","louietheii3e0","mackerelmarauder2d4","mackerelmariner70c","neptunesnete8c","pikepirate89a","pikeplunderer0ca","plaicepirate8c6","roachraider7ce","seaswindler255","shrimpshooter91c","squidsquad7fd","stout369","swordfishswindler37b","tidetamerbe1","turbottakerd86","whitefishwhisperer6df","albacoreangler47d","albacoreassaulter482","amberjackassaulterd52","americaneelenthusiastcfa","aquaticangler5c3","aquaticpursuitf31","atlanticbluemarlinmarauder0b4","atlanticcodcatcherca6","baitedbreath538","barracudabaiter8b3","bassbaiterb9f","bassbandit0d5","bigeyetunabanditb73","bigeyetunabuccaneera16","blackbullheadbandit801","bluefintunabandit177","bonefishbaiter565","breambanditc85","brillbandit0a1","brinebuccaneer9fd","brownbullheadbriganded2","burbotbandit7bf","catfishcapturer7a8","chainpickerelplunderer039","channelcatfishcapturer175","chumsalmoncatcher41e","clamcatcherfb3","clamclaimer13d","cobiacapturere5e","codcatcher04c","codfather685","cohosalmoncapturera7b","crabcatcher1aa","crappiecapturer875","cutthroattroutcatchere2b","dolphindasher004","eelensnarerd3a","eelenthusiast8c6","europeaneelenthusiastf9f","europeanseabassbuccaneer777","fishfinderb9d","fishflingere29","flatheadcatfishfindera51","flounderfinderd64","flukefinder28d","goldentroutgrabber7f6","goldfishgrabber270","grasspickerelgangster7d1","graylinggrabber802","gurnardgrabberd9a","haddockhawkb7c","haddockhunter1a7","hooklinesinkera2d","huron1b3","kingfishcapturerbe7","kingfisher87d","kingsalmonking5b4","laketroutlooter534","largemouthbasslooterf95","lobsterlooterd41","longfintunalooterf32","mackerelmarauder2d4","mackerelmariner70c","mackerelmaster0a5","malta8cc","marinersmate8ee","marlinmaster8ab","muskellungemastere7c","musselmaraudere9b","neptunesnete8c","northernpikepirated97","oceanoracle1d0","opheliacac","oysteropener442","pikepirate89a","pikeplunderer0ca","plaicepirate8c6","prawnpredator5d7","redfinpickerelraider744","redfishraider677","roachraider7ce","sailfishseeker8d5","sailfishswindlerb4f","salmonseeker630","salmonsnatcher19d","sardineseeker62e","seabassbandit9ad","seabreamseekerd8b","seaserpent4b4","seasirenf43","seaswindler255","sharkshooterd66","shrimpshooter91c","snooksnatcherbdb","sockeyesalmonseekerb95","soleseeker47a","spanishmackerelmaster037","speckledtroutsaboteur509","squidsquad7fd","squidsquasherda9","steelheadstalkera87","stripedbassseeker80c","swimmingsafely92d","swordfishsaboteur22f","swordfishswindler37b","tarpontaker6cd","tautogtaker867","tidetamerbe1","trawlertriumph31f","tunataker80c","tunatrawlerafd","turbottakerd86","wahoowarriord42","wahoowrangler016","weakfishwranglerd3c","whitefishwhisperer6df","whitemarlinwranglerbac","whitesuckerwrangler0b3","whitingwrangler842","yellowbullheadbuccaneer968","zanderzealotb23","amberjackassaulterd52","aquaticpursuitf31","atlanticcodcatcherca6","bigeyetunabuccaneera16","brillbandit0a1","chumsalmoncatcher41e","clamcatcherfb3","codcatcher04c","codfather685","cohosalmoncapturera7b","crabcatcher1aa","crappiecapturer875","fishfinderb9d","fishflingere29","flukefinder28d","graylinggrabber802","gurnardgrabberd9a","haddockhawkb7c","hooklinesinkera2d","kingfishcapturerbe7","kingsalmonking5b4","largemouthbasslooterf95","lobsterlooterd41","mahimahimaster04f","malta8cc","muskellungemarauder78c","muskellungemastere7c","northernpikepirated97","oceanoracle1d0","opheliacac","prawnpredator5d7","redfinpickerelraider744","ruddraiderced","sailfishswindlerb4f","salmonseeker630","salmonsnatcher19d","seabassbandit9ad","seaserpent4b4","sharkshooterd66","sockeyesalmonseekerb95","spanishmackerelmaster037","squidsquasherda9","steelheadstalkera87","stout369","stripedbassseeker80c","swordfishsaboteur22f","tautogtaker867","trawlertriumph31f","tunataker80c","walleyewranglerda0","whitemarlinmasterfa1","whitemarlinwranglerbac","whitesuckerwrangler0b3","whitingwrangler842","albacoreangler47d","albacoreassaulter482","amberjackassaulterd52","americaneelenthusiastcfa","aquaticangler5c3","aquaticpursuitf31","atlanticbluemarlinmarauder0b4","atlanticcodcatcherca6","baitedbreath538","barracudabaiter8b3","barracudabandit836","bassbaiterb9f","bassbandit0d5","bigeyetunabanditb73","bigeyetunabuccaneera16","blackbullheadbandit801","bluefintunabandit177","bonefishbaiter565","breambanditc85","brillbandit0a1","brinebuccaneer9fd","brownbullheadbriganded2","burbotbandit7bf","catfishcapturer7a8","chainpickerelplunderer039","channelcatfishcapturer175","chumsalmoncatcher41e","clamcatcherfb3","clamclaimer13d","cobiacapturere5e","codcatcher04c","codfather685","cohosalmoncapturera7b","costasmeraldaac7","crabcatcher1aa","crappiecapturer875","cutthroattroutcatchere2b","dolphindasher004","eelensnarerd3a","eelenthusiast8c6","europeaneelenthusiastf9f","europeanseabassbuccaneer777","fishfinderb9d","fishflingere29","flatheadcatfishfindera51","flounderfinderd64","flukefinder28d","goldentroutgrabber7f6","goldfishgrabber270","grasspickerelgangster7d1","graylinggrabber802","gurnardgrabberd9a","haddockhawkb7c","haddockhunter1a7","hooklinesinkera2d","huron1b3","kingfishcapturerbe7","kingfisher87d","kingsalmonking5b4","laketroutlooter534","largemouthbasslooterf95","lobsterlooterd41","longfintunalooterf32","mackerelmarauder2d4","mackerelmariner70c","mackerelmaster0a5","mahimahimaster04f","malta8cc","marinersmate8ee","marlinmaster8ab","muskellungemarauder78c","muskellungemastere7c","musselmaraudere9b","neptunesnete8c","northernpikepirated97","oceanoracle1d0","opheliacac","oysteropener442","pikepirate89a","pikeplunderer0ca","plaicepirate8c6","prawnpredator5d7","redfinpickerelraider744","redfishraider677","roachraider7ce","ruddraiderced","sailfishseeker8d5","sailfishswindlerb4f","salmonseeker630","salmonsnatcher19d","sardineseeker62e","seabassbandit9ad","seabreamseekerd8b","seaserpent4b4","seasirenf43","seaswindler255","sharkshooterd66","shrimpshooter91c","snooksnatcherbdb","sockeyesalmonseekerb95","soleseeker47a","spanishmackerelmaster037","speckledtroutsaboteur509","squidsquad7fd","squidsquasherda9","steelheadstalkera87","stout369","stripedbassseeker80c","swimmingsafely92d","swordfishsaboteur22f","swordfishswindler37b","tarpontaker6cd","tautogtaker867","tidetamerbe1","trawlertriumph31f","tunataker80c","tunatrawlerafd","turbottakerd86","wahoowarriord42","wahoowrangler016","walleyewranglerda0","weakfishwranglerd3c","whitefishwhisperer6df","whitemarlinmasterfa1","whitemarlinwranglerbac","whitesuckerwrangler0b3","whitingwrangler842","yellowbullheadbuccaneer968","zanderzealotb23","albacoreangler47d","aquaticangler5c3","atlanticbluemarlinmarauder0b4","barracudabaiter8b3","blackbullheadbandit801","brinebuccaneer9fd","burbotbandit7bf","chainpickerelplunderer039","clamclaimer13d","costasmeraldaac7","cutthroattroutcatchere2b","europeaneelenthusiastf9f","flatheadcatfishfindera51","goldfishgrabber270","grasspickerelgangster7d1","haddockhunter1a7","laketroutlooter534","longfintunalooterf32","mackerelmarauder2d4","mackerelmariner70c","marinersmate8ee","marlinmaster8ab","neptunesnete8c","pikepirate89a","pikeplunderer0ca","plaicepirate8c6","roachraider7ce","seaswindler255","shrimpshooter91c","snooksnatcherbdb","soleseeker47a","squidsquad7fd","stout369","sturdyd7f","swordfishswindler37b","tidetamerbe1","turbottakerd86","whitefishwhisperer6df","bluemarlinbandit292","stout369","whitefishwrangler7df","bluemarlinbandit292","stout369","whitefishwrangler7df","amberjackassaulterd52","aquaticpursuitf31","arcticgraylingangler094","atlanticcodcatcherca6","barracudabandit836","bigeyetunabuccaneera16","bluecatfishcatcher468","bluefintunabandit177","bluegillbandita5f","bluemarlinbandit292","brillbandit0a1","brooktroutbuccaneerc0b","carpcapturer993","carpcatcher3f4","catchcruisera94","catfishcapturer7a8","chumsalmoncatcher41e","clamcatcherfb3","codcatcher04c","codfather685","cohosalmoncapturera7b","crabcatcher1aa","crappiecapturer875","dewie961","fishfinderb9d","fishflingere29","fishtracker03e","flukefinder28d","graylinggrabber802","gurnardgrabberd9a","haddockhawkb7c","herringhunter30b","hooklinesinkera2d","huron1b3","kingfishcapturerbe7","kingfisher87d","kingsalmonking5b4","largemouthbasslooterf95","lobsterlooterd41","mackerelmaster0a5","mahimahimaster04f","malta8cc","marinemarauder8c9","muskellungemarauder78c","muskellungemastere7c","musselmaster8d8","northernpikepirated97","oceanoracle1d0","opheliacac","perchplundererbc0","perchpursuer982","pinksalmonpirate2a3","pollockpirate212","posiedonsparadise7e6","prawnpredator5d7","rainbowtroutraider4d0","redfinpickerelraider744","roachrobberdb6","ruddraiderced","sailfishswindlerb4f","salmonseeker630","salmonsnatcher19d","saltyskippera9e","seabassbandit9ad","seahunter56b","seaserpent4b4","seasirenf43","sharkshooterd66","skipjacktunaseeker76c","sockeyesalmonseekerb95","spanishmackerelmaster037","squidsquasherda9","steelheadstalkera87","stout369","stripedbassseeker80c","swordfishsaboteur22f","tautogtaker867","tenchtaker595","tigermuskellungemaster012","trawlertriumph31f","trouttracker43b","tunataker80c","wahoowarriord42","walleyewranglerda0","wavewranglerc2d","whelkwrangler9ac","whitefishwrangler7df","whitemarlinwranglerbac","whitesuckerwrangler0b3","whitingwrangler842","yellowperchpiratec59","zanderzealotb23","anchovyassaulterb1c","arcticgraylingangler094","bluefishbandit8ec","bluegillbandita5f","bluemarlinbandit292","brooktroutbuccaneerc0b","deepseadrifter9f2","europeanperchpirated9b","groupergrabber60d","halibuthero9b9","halibuthunterd84","herringharpooner843","longnosesuckerseeker6ab","musselmaster8d8","nauticalnomada36","oceanreaper44a","pacificcodcapturer81c","perchplundererbc0","plaiceplundererba1","pompanoplunderere5d","skipjacktunatakerf85","stout369","wavewranglerc2d","welscatfishwrangler6ae","whitefishwrangler7df","yellowfintunataker08b","catchcruisera94","seahunter56b","stout369","yellowperchpiratec59"],"weight":[110,82,113,133,103,342,133,124,102,74,97,71,512,104,82,98,99,84,51,726,85,124,81,85,82,74,87,86,147,86,77,146,77,74,61,84,71,82,81,81,106,84,84,94,92,83,70,76,128,64,65,61,71,62,71,68,54,59,63,67,69,74,258,65,53,79,70,67,64,65,68,64,58,61,54,64,56,133,76,64,61,70,71,68,67,61,62,60,66,67,84,73,67,87,65,59,77,71,52,71,74,82,79,119,76,87,89,77,82,78,75,91,92,85,75,89,81,76,77,56,73,103,78,68,85,79,54,73,106,85,75,81,82,103,75,95,104,75,104,64,82,85,73,59,77,100,85,77,112,77,105,692,73,111,98,80,80,131,102,82,116,84,134,75,88,103,76,110,141,84,101,94,82,83,117,84,107,83,93,85,76,95,168,139,218,124,199,184,137,275,200,260,143,152,78,190,136,110,102,244,130,134,128,167,63,76,131,222,258,224,143,173,272,253,168,191,176,172,201,112,131,111,222,108,158,74,148,59,193,236,197,161,184,59,178,55,197,85,228,210,145,312,112,119,139,115,166,116,63,183,105,186,184,191,90,157,125,148,238,258,111,106,258,102,219,239,162,85,118,192,224,84,142,207,222,65,146,55,149,134,122,268,216,210,109,125,168,238,180,218,270,240,57,159,81,83,160,113,91,181,257,94,99,129,87,126,141,123,137,110,103,122,132,132,152,141,109,111,136,138,129,140,134,125,121,93,66,130,100,116,134,115,68,158,131,82,133,137,143,143,140,132,127,125,133,138,84,155,99,173,130,123,66,68,88,148,103,169,193,263,200,195,187,157,291,236,218,129,234,205,181,171,121,215,166,286,119,140,188,146,102,123,198,208,230,196,189,167,252,244,103,171,167,155,209,235,144,132,174,218,147,163,144,135,99,194,220,201,156,199,105,177,182,203,166,217,227,160,326,131,133,125,195,101,173,180,136,149,207,176,215,222,192,90,238,122,156,234,259,91,156,238,135,167,206,215,178,183,130,234,236,173,122,203,221,136,125,115,158,191,128,284,232,84,186,104,109,213,277,164,181,298,227,92,155,153,147,141,222,107,169,76,171,272,146,205,152,183,154,123,127,213,167,71,131,74,180,149,206,123,144,71,164,60,180,229,54,96,137,155,143,137,137,196,135,83,84,172,168,83,146,156,157,144,63,84,53,64,85,54,87,161,399,84,70,96,712,139,263,823,85,818,794,924,671,265,95,74,110,86,92,106,98,116,90,68,1180,212,105,95,83,922,89,108,85,122,86,87,60,69,330,89,503,322,84,740,84,74,225,829,1083,1300,1202,198,110,1462,93,229,211,94,104,97,1517,105,647,90,123,85,989,88,84,97,92,84,112,132,117,1245,1123,85,978,79,67,237,671,247,469,226,99,69,789,97,263,97,285,180,108,127,285,345,117,355,158,264,92,51,98,217,259,61,100,138,147,85,56,227,104,332,54,69,84,55]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"layout":{"randomSeed":123}},"groups":["Entity.Location.City","Entity.Vessel","Entity.Location.Point"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":true},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="geographical-information" class="level2">
<h2 class="anchored" data-anchor-id="geographical-information">3. Geographical Information</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the GeoJSON file</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>geojson_file <span class="ot">&lt;-</span> <span class="st">"data/Oceanus Information/Oceanus Geography.geojson"</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>geo_data <span class="ot">&lt;-</span> <span class="fu">st_read</span>(geojson_file) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">3571</span>)<span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> Name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `Oceanus Geography' from data source 
  `C:\weipengten\ISSS608\ISSS608-VAA\Take-Home_Ex\Take-Home_Ex03\data\Oceanus Information\Oceanus Geography.geojson' 
  using driver `GeoJSON'
Simple feature collection with 29 features and 7 fields
Geometry type: GEOMETRY
Dimension:     XY
Bounding box:  xmin: -167.0654 ymin: 38.07452 xmax: -163.2723 ymax: 40.67775
Geodetic CRS:  WGS 84</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Separate MULTIPOLYGON and POINT geometries</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>multipolygon_data <span class="ot">&lt;-</span> geo_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">st_geometry_type</span>(geo_data) <span class="sc">==</span> <span class="st">"MULTIPOLYGON"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>point_data <span class="ot">&lt;-</span> geo_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">st_geometry_type</span>(geo_data) <span class="sc">==</span> <span class="st">"POINT"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge geographical information into network nodes</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>mc2_nodes_geo <span class="ot">&lt;-</span> mc2_nodes_filtered <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(<span class="fu">st_drop_geometry</span>(geo_data), <span class="at">by =</span> <span class="st">"id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the geographical data with tmap</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(geo_data) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tmap_style</span>(<span class="st">"gray"</span>) <span class="sc">+</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(geo_data) <span class="sc">+</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">"purple"</span>, <span class="at">size =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_text</span>(<span class="at">text =</span> <span class="st">"id"</span>, <span class="at">size =</span> <span class="fl">0.6</span>, <span class="at">col =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># Add labels to the locations</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"bottom"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-Home_Ex03_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>